<div class="sticky-top pt-3">

  <div class="d-flex justify-content-between">
    <h6>Channels</h6>
    <%= link_to icon('fas', 'plus'), new_channel_path %>
  </div>

  <ul class="list-group">
    <% Channel.all.each do |channel| %>
      <%= tag.li data: { controller: "unreads", unreads_id: channel.id }, class: ["list-group-item d-flex justify-content-between align-items-center", ("active" if active_channel?(channel))] do %>
        <%= link_to_if !active_channel?(channel), channel.name, channel %>
      <% end %>
    <% end %>
  </ul>

  <hr />

  <div class="d-flex justify-content-between">
    <h6>Users</h6>
  </div>
  <ul class="list-group list-group-flush" data-controller="online">
  <% @channel.users.each do |user| %>
    <%= tag.li data: { target: 'online.users', user_id: user.id }, class: ["list-group-item d-flex align-items-center small"] do %>
      <% if user.online? %>
        <%= icon('fas', 'circle', class: 'pr-2 text-success') %>
      <% else%>
        <%= icon('far', 'circle', class: 'pr-2 text-muted') %>
      <% end %>
      <%= user.name %>
    <% end %>
  <% end %>
  </ul>
</div>